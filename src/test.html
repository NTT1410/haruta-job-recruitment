<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<!-- Font Awesome -->
		<link
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
			rel="stylesheet" />
		<!-- Google Fonts -->
		<link
			href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
			rel="stylesheet" />
		<!-- MDB -->
		<link
			href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.css"
			rel="stylesheet" />
	</head>
	<body>
		<label for="formFileDisabled" class="form-label"
			>Disabled file input example</label
		>
		<input class="form-control" type="file" name="file" id="file" />
		<button type="submit" class="btn btn-primary" onclick="handleFileUpload()">
			Submit
		</button>

		<!-- MDB -->
		<script
			type="text/javascript"
			src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.js"></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
			integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"></script>
		<script>
			handleFileUpload = async () => {
				const file = document.getElementById("file");
				console.log(file.files[0]);
				const uploadData = new FormData();
				uploadData.append("user_id", "6527d113636dc2d0e067e4e3");
				uploadData.append("file", file.files[0], "file");
				await fetch("http://localhost:3000/api/candidates/cv", {
					method: "POST",
					body: uploadData, // Payload is formData object
				})
					.then((data) => console.log(data))
					.catch((err) => console.log(err));
			};
		</script>
	</body>
</html>
